# TypeScriptチェック、Lint、ビルドテストを実行
pnpm run typecheck
if [ $? -ne 0 ]; then
  echo "❌ TypeScriptエラーがあります。修正してからコミットしてください。"
  exit 1
fi

pnpm run lint
if [ $? -ne 0 ]; then
  echo "❌ Lintエラーがあります。修正してからコミットしてください。"
  exit 1
fi

pnpm run build
if [ $? -ne 0 ]; then
  echo "❌ ビルドエラーがあります。修正してからコミットしてください。"
  exit 1
fi

# Lint-stagedで変更ファイルのみをチェック
npx lint-staged

echo "✅ すべてのチェックが成功しました。コミットを続行します。"
